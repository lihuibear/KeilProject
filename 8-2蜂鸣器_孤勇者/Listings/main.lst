C51 COMPILER V9.54   MAIN                                                                  02/13/2024 18:22:37 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\software\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REG52.H>    
   2          #include <INTRINS.H>   
   3          sbit speaker=P1^6; 
   4          unsigned char timer0h,timer0l,time=1;
   5          // å­¤å‹‡è€…ï¼Œ3åˆ†30ç§’ï¼ŒåŽŸå”±4åˆ†16ç§’
   6          code unsigned char gyz[]={
   7          122,27,121,26,122,27,121,26,122,27,121,26,120,
   8          // éŸ³é«˜ï¼ˆä½ŽéŸ³0ï¼Œä¸­éŸ³1ï¼Œé«˜éŸ³2ï¼‰ï¼ŒéŸ³é•¿ï¼ˆèŠ‚æ‹ï¼‰ï¼ŒéŸ³è°ƒï¼ˆdo,le,mi,fa,so,la,siï¼‰
   9          143,140,110,111,112,111,143,130,111,112,111,112,113,36,111,36,111,36,111,122,121,47,140,
  10          //éƒ½ï¼Œæ˜¯å‹‡æ•¢çš„ï¼Œä½ é¢å¤´çš„ä¼¤å£ä½ çš„ä¸åŒä½ çŠ¯çš„é”™
  11          143,140,111,112,111,143,140,111,112,111,112,113,36,111,36,111,36,111,123,122,47,140,
  12          //éƒ½ï¼Œä¸å¿…éšè—ï¼Œä½ ç ´æ—§çš„çŽ©å¶ä½ çš„é¢å…·ä½ çš„è‡ªæˆ‘
  13          16,111,136,116,116,115,126,116,115,116,115,116,115,143,140,16,111,136,116,116,115,116,115,137,117,117,116,
             -127,126,143,
  14          //ä»–ä»¬è¯´è¦å¸¦ç€å…‰é©¯æœæ¯ä¸€å¤´æ€ªå…½ï¼Œä»–ä»¬è¯´è¦ç¼å¥½ä½ çš„ä¼¤æ²¡æœ‰äººçˆ±å°ä¸‘
  15          120,113,115,113,132,113,132,113,132,113,115,113,115,113,132,113,132,113,142,120,111,112,123,26,121,123,132
             -,113,112,121,46,140,
  16          //ä¸ºä½•å­¤ç‹¬ä¸å¯å…‰è£ï¼Œäººåªæœ‰ä¸å®Œç¾Žå€¼å¾—æ­Œé¢‚ï¼Œè°è¯´æ±¡æ³¥æ»¡èº«çš„ä¸ç®—è‹±é›„
  17          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,
  18          //çˆ±ä½ å­¤èº«èµ°æš—å··ï¼Œçˆ±ä½ ä¸è·ªçš„æ¨¡æ ·ï¼Œçˆ±ä½ å¯¹å³™è¿‡ç»æœ›ï¼Œä¸è‚¯å“­ä¸€åœºï¼Œ
  19          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,22
             -5,
  20          //çˆ±ä½ ç ´çƒ‚çš„è¡£è£³å´æ•¢å µå‘½è¿çš„æžªï¼Œçˆ±ä½ å’Œæˆ‘é‚£ä¹ˆåƒç¼ºå£éƒ½ä¸€æ ·
  21          233,215,233,215,213,215,216,213,225,225,233,215,233,215,
  22          //åŽ»å—ï¼Œé…å—ï¼Œè¿™è¤´è¤›çš„æŠ«é£Žï¼Œæˆ˜å—ï¼Œæˆ˜å•Šï¼Œ
  23          213,215,216,213,225,215,215,213,222,222,211,223,232,222,221,146,140,215,215,213,222,222,211,233,222,222,22
             -1,146,140,140,
  24          //ä»¥æœ€å‘å¾®çš„æ¢¦ï¼Œè‡´é‚£é»‘å¤œä¸­çš„å‘œå’½ä¸Žæ€’å¼(hou)ï¼Œè°è¯´ç«™åœ¨å…‰é‡Œçš„æ‰ç®—è‹±é›„
  25          116,115,136,115,116,115,116,115,126,116,115,116,115,116,115,143,140,116,115,136,115,116,115,116,115,137,11
             -7,117,116,117,116,143,140,
  26          //ä»–ä»¬è¯´è¦æˆ’äº†ä½ çš„ç‹‚å°±åƒæ“¦æŽ‰äº†æ±¡åž¢(gou)ï¼Œä»–ä»¬è¯´è¦æ‹¾å°é˜¶è€Œä¸Šè€Œä»£ä»·æ˜¯ä½Žå¤´
  27          113,115,113,132,113,132,113,132,113,115,113,115,113,132,113,132,113,142,120,111,112,123,126,221,223,232,21
             -3,212,231,166,120,
  28          //é‚£å°±è®©æˆ‘ä¸å¯ä¹˜é£Žï¼Œä½ ä¸€æ ·éª„å‚²ç€é‚£ç§å­¤å‹‡ï¼Œè°è¯´å¯¹å¼ˆå¹³å‡¡çš„ä¸ç®—è‹±é›„
  29          
  30          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,
  31          //çˆ±ä½ å­¤èº«èµ°æš—å··ï¼Œçˆ±ä½ ä¸è·ªçš„æ¨¡æ ·ï¼Œçˆ±ä½ å¯¹å³™è¿‡ç»æœ›ï¼Œä¸è‚¯å“­ä¸€åœºï¼Œ
  32          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,22
             -5,
  33          //çˆ±ä½ ç ´çƒ‚çš„è¡£è£³å´æ•¢å µå‘½è¿çš„æžªï¼Œçˆ±ä½ å’Œæˆ‘é‚£ä¹ˆåƒç¼ºå£éƒ½ä¸€æ ·
  34          233,215,233,215,213,215,216,213,225,225,233,215,233,215,
  35          //åŽ»å—ï¼Œé…å—ï¼Œè¿™è¤´è¤›çš„æŠ«é£Žï¼Œæˆ˜å—ï¼Œæˆ˜å•Šï¼Œ
  36          213,215,216,213,225,215,215,213,222,222,211,223,232,222,221,146,140,215,215,213,222,222,211,233,222,222,22
             -1,146,140,140,
  37          //ä»¥æœ€å‘å¾®çš„æ¢¦ï¼Œè‡´é‚£é»‘å¤œä¸­çš„å‘œå’½ä¸Žæ€’å¼(hou)ï¼Œè°è¯´ç«™åœ¨å…‰é‡Œçš„æ‰ç®—è‹±é›„
  38          
  39          26,121,123,147,127,117,127,186,120,26,121,123,147,127,117,127,186,120,
  40          //ä½ çš„æ–‘é©³ä¸Žä¼—ä¸åŒï¼Œä½ çš„æ²‰é»˜éœ‡è€³æ¬²è‹
  41          
  42          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,
  43          //çˆ±ä½ å­¤èº«èµ°æš—å··ï¼Œçˆ±ä½ ä¸è·ªçš„æ¨¡æ ·ï¼Œçˆ±ä½ å¯¹å³™è¿‡ç»æœ›ï¼Œä¸è‚¯å“­ä¸€åœºï¼Œ
  44          116,117,211,212,117,211,221,211,117,211,212,117,211,221,211,212,213,212,213,212,223,213,212,223,225,223,22
             -5,
  45          //çˆ±ä½ æ¥è‡ªäºŽè›®è’ï¼Œä¸€ç”Ÿä¸å€Ÿè°çš„å…‰ï¼Œä½ å°†é€ ä½ çš„åŸŽé‚¦ï¼Œåœ¨åºŸå¢Ÿä¹‹ä¸Š
C51 COMPILER V9.54   MAIN                                                                  02/13/2024 18:22:37 PAGE 2   

  46          233,215,233,215,213,215,216,213,225,225,233,215,233,215,
  47          //åŽ»å—ï¼ŒåŽ»å•Šï¼Œä»¥æœ€å‘å¾®çš„æ¢¦ï¼Œæˆ˜å—ï¼Œæˆ˜å•Šï¼Œ
  48          213,215,216,213,225,215,215,213,222,222,211,223,232,222,221,146,140,215,215,213,222,222,211,233,222,222,22
             -1,146,140,140,
  49          //ä»¥æœ€å­¤é«˜çš„æ¢¦ï¼Œè‡´é‚£é»‘å¤œä¸­çš„å‘œå’½ä¸Žæ€’å¼(hou)ï¼Œè°è¯´ç«™åœ¨å…‰é‡Œçš„æ‰ç®—è‹±é›„
  50          0 
  51          };
  52          
  53          // å®šæ—¶æ—¶é—´è¶ŠçŸ­ï¼Œé‚£ä¹ˆå£°éŸ³é¢‘çŽ‡è¶Šé«˜ï¼Œ
  54          code unsigned char FREQH[]={
  55          0xF2,0xF3,0xF5,0xF5,0xF6,0xF7,0xF8,
  56          0xF9,0xF9,0xFA,0xFA,0xFB,0xFB,0xFC,
  57          0xFC,0xFC,0xFD,0xFD,0xFD,0xFD,0xFE,
  58          0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFF,
  59          } ;
  60          code unsigned char FREQL[]={
  61          0x42,0xC1,0x17,0xB6,0xD0,0xD1,0xB6,
  62          0x21,0xE1,0x8C,0xD8,0x68,0xE9,0x5B,
  63          0x8F,0xEE,0x44,0x6B,0xB4,0xF4,0x2D,
  64          0x47,0x77,0xA2,0xB6,0xDA,0xFA,0x16,
  65          };
  66          
  67          //åšæˆå¯¹åº”çš„é¢‘çŽ‡è¡¨ï¼Œå…¶å®žå‰å‡ ä¸ªå¾ˆå°‘é‡å¾—åˆ°ï¼Œé‚£ä¹ˆè¿™é‡Œå†ç¼©å‡çš„è¯ï¼Œ
  68          //å°±é™¤ä»¥10ï¼Œå°±å¯ä»¥ç”¨charç±»åž‹è€Œä¸ç”¨intç±»åž‹äº†ï¼ŒåŽè¾¹è®¡ç®—è®¡æ—¶æ—¶é—´çš„æ—¶å€™å†ä¹˜10è¡¥
             -å›ž
  69          unsigned int  code FreTab[28]  = {
  70          3517,3134,2792,2633,2351,2094,1865,
  71          1758,1566,1395,1319,1175,1046,932 ,
  72          880 ,785 ,699 ,660 ,587 ,523 ,466 ,
  73          440 ,392 ,349 ,329 ,293 ,261 ,233 ,  
  74          };
  75          
  76          void t0int() interrupt 1
  77          {
  78   1        speaker=!speaker;
  79   1        TH0=timer0h;
  80   1        TL0=timer0l;
  81   1      }
  82          
  83          //  èŠ‚å¥çš„å¿«æ…¢ï¼Œè¿™é‡Œæ˜¯åŠä¸ªèŠ‚æ‹çš„æ—¶é—´
  84          void delay(unsigned char t)
  85          {
  86   1        unsigned long t2;
  87   1        for(;t>0;t--)
  88   1        {
  89   2          for(t2=0;t2<5000;t2++){;}
  90   2        }
  91   1        TR0=0;// åœæ­¢å‘éŸ³ å¦‚æžœå±è”½æŽ‰ï¼Œä¼šå‡ºçŽ°è¿žéŸ³çš„ä¸æ­£å¸¸çŽ°è±¡
  92   1      }
  93          /**/
  94          void song()
  95          {
  96   1        unsigned char k=0;
  97   1        unsigned long i=0;  //  ç”±äºŽæ­Œè¯é•¿åº¦é—®é¢˜ï¼Œéœ€è¦è®¾ç½®å¤§ä¸€ç‚¹çš„èŒƒå›´ï¼Œå¦åˆ™è¿˜æ²¡å”±å®Œä¸€é
             -åˆé‡æ–°å¼€å§‹äº†
  98   1        // è¿™é‡Œè¿™æ ·åšå°±åªå”±ä¸€éï¼Œå¯»åˆ°æœ€åŽçš„0å€¼æ—¶å°±åœæ­¢äº†
  99   1        while(time) 
 100   1        {
 101   2          if(gyz[i]%10==0)   // éŸ³è°ƒä¸º0å€¼æ—¶åœé¡¿å¤„ç†
 102   2          {
 103   3            TR0=0;    // åœæ­¢å‘éŸ³
 104   3          }
C51 COMPILER V9.54   MAIN                                                                  02/13/2024 18:22:37 PAGE 3   

 105   2          else
 106   2          {
 107   3            k=gyz[i]%10+7*(gyz[i]/100+1)-1;
 108   3            timer0h=FREQH[k];       // è¿™é‡Œå°†Kå€¼æ”¹æˆå®šå€¼ï¼Œå‘çŽ°å®žé™…ä¸Šå¹¶ä¸æ˜¯æŒ‰ç…§do,le,mi,fa,so,la,siè
             -¿™æ ·å‘éŸ³
 109   3            timer0l=FREQL[k];
 110   3            //å¦‚æžœç”¨é¢‘çŽ‡è¡¨è¾“å‡ºçš„è¯ï¼Œå°±å±è”½ä¸Šä¸¤å¥ï¼Œå¼€å¯ä¸‹ä¸¤å¥
 111   3            //timer0h=(65535-FreTab[k])/256;
 112   3            //timer0l=(65535-FreTab[k])%256;
 113   3            TR0=1;    // å¯åŠ¨T0è¾“å‡ºæ–¹æ³¢åŽ»å‘éŸ³
 114   3          }
 115   2          time=gyz[i]/10%10;
 116   2          i=i+1;
 117   2          
 118   2          delay(time);
 119   2        }
 120   1      }
 121          void main(void)
 122          {
 123   1        TMOD=1;   // è®¾ç½®å®šæ—¶å™¨0ä¸º16ä½è®¡æ•°æ¨¡å¼ 
 124   1        EA=1;ET0=1; // å¼€å®šæ—¶å™¨0ä¸­æ–­
 125   1        while(1)
 126   1        {
 127   2          song();
 128   2        }
 129   1      }
 130          
 131          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    217    ----
   CONSTANT SIZE    =    606    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
